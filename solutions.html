<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solution Guide - Code Kingdom Quest</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .solutions-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
        }

        .premium-banner {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 2rem;
            color: #0a0e27;
        }

        .premium-banner h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .realm-section {
            background: rgba(26, 31, 58, 0.8);
            border: 2px solid var(--accent-purple);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .realm-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--accent-purple);
        }

        .realm-icon-large {
            font-size: 3rem;
        }

        .solution-card {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .solution-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .difficulty-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .difficulty-beginner {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
            border: 1px solid var(--accent-green);
        }

        .difficulty-intermediate {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
            border: 1px solid var(--accent-blue);
        }

        .difficulty-advanced {
            background: rgba(139, 92, 246, 0.2);
            color: var(--accent-purple);
            border: 1px solid var(--accent-purple);
        }

        .difficulty-boss {
            background: rgba(239, 68, 68, 0.2);
            color: var(--accent-red);
            border: 1px solid var(--accent-red);
        }

        .code-solution {
            background: #0d1117;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            color: #c9d1d9;
            overflow-x: auto;
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--accent-purple);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .copy-btn:hover {
            background: var(--accent-blue);
        }

        .explanation {
            background: rgba(251, 191, 36, 0.1);
            border-left: 4px solid var(--accent-gold);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .key-learnings {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .learning-tag {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
            border: 1px solid var(--accent-blue);
        }

        .alternatives {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--accent-green);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .alternatives h4 {
            color: var(--accent-green);
            margin-bottom: 0.5rem;
        }

        .locked-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .unlock-card {
            background: var(--secondary-bg);
            border: 2px solid var(--accent-gold);
            border-radius: 16px;
            padding: 3rem;
            max-width: 500px;
            text-align: center;
        }

        .unlock-card h2 {
            color: var(--accent-gold);
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .price-tag {
            font-size: 3rem;
            color: var(--accent-gold);
            margin: 1.5rem 0;
        }

        .feature-list {
            text-align: left;
            margin: 1.5rem 0;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .btn-unlock {
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-green));
            color: var(--primary-bg);
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 1rem;
        }

        .btn-unlock:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <!-- Locked Overlay (Remove or hide when unlocked) -->
    <div id="lockedOverlay" class="locked-overlay" style="display: none;">
        <div class="unlock-card">
            <h2>üîí Premium Solution Guide</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Unlock complete solutions, explanations, and alternative approaches for all 32+ challenges!
            </p>
            
            <div class="price-tag">$9.99</div>
            
            <div class="feature-list">
                <div class="feature-item">
                    ‚úÖ Step-by-step solutions for all challenges
                </div>
                <div class="feature-item">
                    ‚úÖ Detailed explanations of concepts
                </div>
                <div class="feature-item">
                    ‚úÖ Alternative solution approaches
                </div>
                <div class="feature-item">
                    ‚úÖ Boss battle strategies
                </div>
                <div class="feature-item">
                    ‚úÖ Key learning points highlighted
                </div>
                <div class="feature-item">
                    ‚úÖ Lifetime access & updates
                </div>
            </div>
            
            <button class="btn-unlock" onclick="unlockSolutions()">üéÅ Unlock Now</button>
            <br>
            <button class="btn-secondary" style="margin-top: 1rem;" onclick="document.getElementById('lockedOverlay').style.display='none'">
                Try Challenges First
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="solutions-container">
        <div class="premium-banner">
            <h1>üåü Complete Solution Guide üåü</h1>
            <p style="font-size: 1.2rem;">Master every challenge with detailed explanations and alternative solutions</p>
            <a href="index.html" class="btn-primary" style="display: inline-block; margin-top: 1rem; text-decoration: none;">‚Üê Back to Game</a>
        </div>

        <!-- Realm 0: Variables -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">üîÆ</div>
                <div>
                    <h2>Realm of Variables</h2>
                    <p style="color: var(--text-secondary);">The Origin Fields - 5 Challenges</p>
                </div>
            </div>

            <div id="realm0Solutions"></div>
        </div>

        <!-- Realm 1: Conditions -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">‚õ∞Ô∏è</div>
                <div>
                    <h2>Valley of Conditions</h2>
                    <p style="color: var(--text-secondary);">The If-Cliffs - 5 Challenges</p>
                </div>
            </div>

            <div id="realm1Solutions"></div>
        </div>

        <!-- Realm 2: Loops -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">üåÄ</div>
                <div>
                    <h2>Loop Dungeons</h2>
                    <p style="color: var(--text-secondary);">The Endless Halls - 6 Challenges</p>
                </div>
            </div>

            <div id="realm2Solutions"></div>
        </div>

        <!-- Realm 3: Functions -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">üå≥</div>
                <div>
                    <h2>Forest of Functions</h2>
                    <p style="color: var(--text-secondary);">The Awakening Grove - 5 Challenges</p>
                </div>
            </div>

            <div id="realm3Solutions"></div>
        </div>

        <!-- Realm 4: Arrays -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">üìä</div>
                <div>
                    <h2>Arrays & List Plains</h2>
                    <p style="color: var(--text-secondary);">The Sequence Steppe - 5 Challenges</p>
                </div>
            </div>

            <div id="realm4Solutions"></div>
        </div>

        <!-- Realm 5: OOP -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">üè∞</div>
                <div>
                    <h2>OOP Highlands</h2>
                    <p style="color: var(--text-secondary);">The Class Citadel - 6 Challenges</p>
                </div>
            </div>

            <div id="realm5Solutions"></div>
        </div>

        <!-- Boss Battles -->
        <div class="realm-section">
            <div class="realm-header">
                <div class="realm-icon-large">‚öîÔ∏è</div>
                <div>
                    <h2>Boss Battle Solutions</h2>
                    <p style="color: var(--text-secondary);">Conquer the ultimate challenges - 4 Bosses</p>
                </div>
            </div>

            <div id="bossSolutions"></div>
        </div>
    </div>

    <script src="js/solutionGuide.js"></script>
    <script>
        // Check if solutions are unlocked
        const solutionsUnlocked = localStorage.getItem('solutionsUnlocked') === 'true';
        
        if (!solutionsUnlocked) {
            document.getElementById('lockedOverlay').style.display = 'flex';
        }

        function unlockSolutions() {
            // In production, this would integrate with payment
            // For demo purposes, we'll just unlock it
            localStorage.setItem('solutionsUnlocked', 'true');
            document.getElementById('lockedOverlay').style.display = 'none';
            alert('üéâ Solutions Unlocked! Thank you for your support!');
        }

        // Render solutions
        function renderSolution(solution, id) {
            const difficultyClass = `difficulty-${solution.difficulty.toLowerCase()}`;
            
            let alternativesHTML = '';
            if (solution.alternativeSolutions && solution.alternativeSolutions.length > 0) {
                alternativesHTML = `
                    <div class="alternatives">
                        <h4>üí° Alternative Solutions:</h4>
                        ${solution.alternativeSolutions.map(alt => `
                            <div class="code-solution">
                                <button class="copy-btn" onclick="copyCode(this)">üìã Copy</button>
                                <pre>${alt}</pre>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            return `
                <div class="solution-card">
                    <div class="solution-header">
                        <h3>${solution.challengeTitle || solution.bossName}</h3>
                        <span class="difficulty-badge ${difficultyClass}">${solution.difficulty}</span>
                    </div>

                    <div class="code-solution">
                        <button class="copy-btn" onclick="copyCode(this)">üìã Copy</button>
                        <pre>${solution.solution}</pre>
                    </div>

                    <div class="explanation">
                        <strong>üí≠ Explanation:</strong><br>
                        ${solution.explanation}
                    </div>

                    ${alternativesHTML}

                    <div class="key-learnings">
                        ${solution.keyLearnings.map(learning => 
                            `<span class="learning-tag">${learning}</span>`
                        ).join('')}
                    </div>
                </div>
            `;
        }

        function copyCode(button) {
            const codeBlock = button.nextElementSibling;
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = '‚úÖ Copied!';
                setTimeout(() => {
                    button.textContent = 'üìã Copy';
                }, 2000);
            });
        }

        // Load and render all solutions
        if (typeof SOLUTION_GUIDE !== 'undefined') {
            for (let realm = 0; realm <= 5; realm++) {
                const solutions = getSolutionsByRealm(realm);
                const container = document.getElementById(`realm${realm}Solutions`);
                
                if (container) {
                    container.innerHTML = solutions.map(sol => renderSolution(sol, sol.id)).join('');
                }
            }

            // Render boss solutions
            if (typeof BOSS_SOLUTIONS !== 'undefined') {
                const bossContainer = document.getElementById('bossSolutions');
                bossContainer.innerHTML = Object.values(BOSS_SOLUTIONS)
                    .map(boss => renderSolution(boss, boss.bossName))
                    .join('');
            }
        }
    </script>
</body>
</html>
